<html>
<head>
	<title>Ad Block Test Page</title>
	<!--
		ABT: Instructions

		There are a couple of ways to set up this script, but I think the easiest and most
		foolproof is to create a script block just before the </body> of your page that
		contains the following:
		1. The contents of abt.min.js (see note below)
		2. A callback function that runs after the script checks for an ad blocker
		3. Call ad_block_test and pass it the callback function

		Note: Ad Blockers actively try evade Ad Block detection code. By inlining the ABT
		script you make it harder for them to identify. If you do wish to include it as
		an external script, you should rename the file to something else. It's really
		short though; I think you're better off saving a network request.
	-->
</head>
<body>
	<h1>ABT Test Page</h1>
	<h2>Ad Blocker Detected: <span id="status">unknown</span></h2>
	<h2>ABT Version: <span id="abt_version">unknown</span></h2>
	<p>This is a demo of <a href="https://github.com/elidickinson/ad-block-test">ad-block-test</a>, a short snippet of code for detecting many common Ad Blocker plugins. View the source for instructions.</p>

	<script src="../abt.js"></script> <!-- only use this for testing, see below -->

	<script>
		// NOTE: When deploying this in production, paste abt.min.js here instead of linking to abt.js above

		// define callback function
		function ad_block_test_callback(ads_blocked, abt_version_string) {
			// Update text on the page based on the results of the ad block test
			document.getElementById("status").innerHTML = ads_blocked;
			document.getElementById("abt_version").innerHTML = abt_version_string;

			// we could preform a more useful action here, like logging an event in Google Analytics:
			if (ads_blocked) {
				// var _gaq = _gaq || [];
				// _gaq.push(['_trackEvent', 'Ads', 'AdsBlocked', 'Ad Block Test v'+abt_version_string]);
			}
		}

		ad_block_test(ad_block_test_callback); // document.body should exist when you call this, that's why it's not in <head>
	</script>
</body></html>
